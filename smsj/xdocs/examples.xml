<?xml version="1.0" encoding="ISO-8859-1"?>
<document>
    <properties>
        <title>Examples</title>
        <author email="c95men at users.sourceforge.net">Markus Eriksson</author>
    </properties>
    <body>
        <section name="Table of Contents">
            <p>
                <ol>
                    <li>
                        <a href="#Using SmsSender">Send a text message using SmsSender API</a>
                    </li>
                </ol>
            </p>
        </section>
		
        <section name="Using SmsSender">
            <p>
				The easiest way to send an SMS is by using the <code>SmsSender</code> class. It contains factory methods
				like <code>getClickatellSender</code> and <code>getGsmSender</code> that creates a connection towards
				the sms gateway. It also contains some methods like <code>sendTextSms</code> and
				<code>sendWapSiPush</code> that makes it easy to send these types of messages.
				<br />
				Example: You want to send a simple text message using the clickatell sms gateway.
                <source><![CDATA[// Send SMS with clickatell
SmsSender smsSender = SmsSender.getClickatellSender("username", "password", "apiid");
// The message that you want to send.
String msg = "A sample SMS.";
// International number to reciever without leading "+"
String reciever = "461234";
// Number of sender (not supported on all transports)
String sender = "461235";
smsSender.connect();
String msgids[] = smsSender.sendTextSms(msg, reciever, sender);
smsSender.disconnect();]]></source>
            </p>
        </section>
		
        <section name="Using the low level API">
            <p>
				The other way to send a message is by first loading a transport using the 
				<code>SmsTransportManager</code> and then create a message using one of the
				<code>SmsMessage</code> classes.
				<br />
				Example: You want to send a simple text message using the clickatell sms gateway.
                <source><![CDATA[// The username, password and apiid is sent to the clickatell transport
// in a Properties				
Properties props = new Properties();

props.setProperty("smsj.clickatell.username", theUsername);
props.setProperty("smsj.clickatell.password", thePassword);
props.setProperty("smsj.clickatell.apiid", theApiId);

// Load the clickatell transport
SmsTransport transport = SmsTransportManager.getTransport("org.marre.sms.transport.clickatell.ClickatellTransport", theProps);

// Connect to clickatell
transport.connect();

// Create the sms message
SmsTextMessage textMessage = new SmsTextMessage("A sample SMS.");

// Send the sms to "461234" from "461235"
transport.send(textMessage, new SmsAddress("461234"), new SmsAddress("461235"));
				
// Disconnect from clickatell
transport.disconnect();]]></source>
            </p>
        </section>
		
    </body>
</document>
